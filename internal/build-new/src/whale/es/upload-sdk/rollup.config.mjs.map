{"version":3,"file":"rollup.config.mjs","sources":["../../../../../../packages/upload-sdk/rollup.config.ts"],"sourcesContent":["import { defineConfig } from 'rollup';\nimport commonjs from '@rollup/plugin-commonjs';\nimport resolve from '@rollup/plugin-node-resolve';\nimport typescript from 'rollup-plugin-typescript2';\nimport vue from '@vitejs/plugin-vue';\nimport esbuild from 'rollup-plugin-esbuild';\n\n// export const excludeFiles = (files: string[]) => {\n//   const excludes = ['node_modules', 'test', 'mock', 'gulpfile', 'dist'];\n//   return files.filter(\n//     (path) => !excludes.some((exclude) => path.includes(exclude))\n//   );\n// };\n//\n// const input = excludeFiles(\n//   await glob('**/*.{js,ts,vue}', {\n//     // cwd: pkgRoot,\n//     cwd: process.cwd(),\n//     absolute: true,\n//     onlyFiles: true,\n//   })\n// );\n\nexport default defineConfig({\n  // input, // 输入文件路径\n  input: ['index.ts'],\n  output: [\n    // String 生成包的格式。 下列之一:\n    // cjs – CommonJS，适用于 Node 和 Browserify/Webpack\n    // esm – 将软件包保存为 ES 模块文件，在现代浏览器中可以通过 <script type=module> 标签引入\n    {\n      dir: 'dist/lib', // 输出文件路径及名称\n      format: 'cjs',\n      entryFileNames: `[name].js`,\n      sourcemap: true, // 是否生成sourcemap\n    },\n    {\n      // file: 'dist/bundle.esm.js',\n      dir: 'dist/en',\n      format: 'esm',\n      entryFileNames: `[name].mjs`,\n      sourcemap: true,\n    },\n  ],\n  plugins: [\n    typescript(),\n    // resolve({\n    //   preferBuiltins: true, // 优先使用内置模块\n    //   rootDir: process.cwd(), // 设置解析的根目录为当前工作目录\n    // }),\n    commonjs(),\n    esbuild({\n      minify: true,\n      sourceMap: true,\n    }),\n    // vue(),\n  ],\n});\n"],"names":[],"mappings":";;;;;AAIA,oBAAe,YAAY,CAAC;AAC5B,EAAE,KAAK,EAAE,CAAC,UAAU,CAAC;AACrB,EAAE,MAAM,EAAE;AACV,IAAI;AACJ,MAAM,GAAG,EAAE,UAAU;AACrB,MAAM,MAAM,EAAE,KAAK;AACnB,MAAM,cAAc,EAAE,CAAC,SAAS,CAAC;AACjC,MAAM,SAAS,EAAE,IAAI;AACrB,KAAK;AACL,IAAI;AACJ,MAAM,GAAG,EAAE,SAAS;AACpB,MAAM,MAAM,EAAE,KAAK;AACnB,MAAM,cAAc,EAAE,CAAC,UAAU,CAAC;AAClC,MAAM,SAAS,EAAE,IAAI;AACrB,KAAK;AACL,GAAG;AACH,EAAE,OAAO,EAAE;AACX,IAAI,UAAU,EAAE;AAChB,IAAI,QAAQ,EAAE;AACd,IAAI,OAAO,CAAC;AACZ,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,SAAS,EAAE,IAAI;AACrB,KAAK,CAAC;AACN,GAAG;AACH,CAAC,CAAC;;;;"}